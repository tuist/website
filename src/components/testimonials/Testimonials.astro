---
import Verticalgrid from "../assets/VerticalGrid.astro";
import { getCollection } from "astro:content";
import RandomTestimonial from "./RandomTestimonial.jsx";
const allTestimonials = await getCollection('testimonials')

import {useTranslations, getLangFromUrl} from "../../i18n/utils"

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
---

<section
  aria-labelledby="testimonials"
  id="testimonials "
  class="relative overflow-x-hidden">
  <Verticalgrid />
  <div class="max-w-7xl px-8 md:px-12 lg:px-32 mx-auto py-12 lg:pt-24 relative">
    <div class="max-w-2xl mx-auto text-center">
      <div>
        <span
          class="text-transparent bg-clip-text font-medium tracking-widest bg-gradient-to-r from-cyan-400 via-cyan-500 to-indigo-500 text-xs uppercase"
          >{t('home.testimonials.subtitle')}</span
        >
        <p class="text-2xl md:text-3xl mt-8 font-normal text-white">
          {t('home.testimonials.title')}
        </p>
        <p class="max-w-2xl mt-4 text-lg text-slate-400">
          {t('home.testimonials.description')}
        </p>
      </div>
    </div>
  </div>
  <div class="pb-24">
    <div class="mx-auto">
      <div class="flex flex-row justify-center">
        <RandomTestimonial testimonials={allTestimonials}/>
      </div>
    </div>
  </div>
</section>
