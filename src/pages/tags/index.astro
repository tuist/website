---
import { getCollection } from "astro:content";
import BaseLayout from "../../layouts/BaseLayout.astro";
const allPosts = await getCollection("posts");
const tags = [...new Set(allPosts.map((post) => post.data.tags).flat())];
const pageTitle = "Tag Index";
---

<BaseLayout pageTitle={pageTitle}>
  <section>
    <div
      class="max-w-7xl px-8 md:px-12 lg:px-32 mx-auto py-12 lg:py-32 relative">
      <div class="max-w-2xl">
        <div>
          <span
            class="bg-gradient-to-r from-cyan-400 via-cyan-500 to-indigo-500 text-transparent bg-clip-text lg:pl-4 lg:border-l border-white mt-3 lg:mt-0"
            >Tags</span
          ><p class="text-3xl mt-8 font-normal text-white">All tags</p>
        </div>
      </div>

      <ul
        class="flex flex-col divide-y divide-white/20 mt-12 lg:mt-24"
        role="list">
        {
          tags.map((tag) => (
            <a
              class="text-lg text-white capitalize hover:text-cyan-400 duration-200 py-3"
              href={`/tags/${tag}`}>
              <li aria-label="tags">
                <p>{tag}</p>
              </li>
            </a>
          ))
        }
      </ul>
    </div>
  </section>
</BaseLayout>
